# RED-DiffEq Default Configuration
# Uses nested structure for organization

# PDE Solver Parameters
pde:
  n_grid: 70
  nt: 1000
  dx: 10.0
  dt: 0.001
  nbc: 120
  f: 15.0
  sz: 10
  gz: 10
  ng: 70
  ns: 5

# Model Architecture
model:
  dim: 64
  dim_mults: [1, 2, 4, 8]
  flash_attn: false
  channels: 1

# Diffusion Model
diffusion:
  image_size: 72
  timesteps: 1000
  sampling_timesteps: 250
  objective: pred_noise
  model_path: pretrained_models/model-3.pt

# Optimization (Adam + Cosine Annealing + L1 Loss - always)
optimization:
  lr: 0.03
  ts: 300
  regularization: none  # Options: diffusion, tv, l2, none, null
  reg_lambda: 0.75
  use_time_weight: false  # If true, use time-dependent weight w(t) in RED regularizer. If false (default), drop w(t) and use constant Î» (empirical variant)
  sigma: 10.0
  sigma_x0: 0.0001  # Pre-noise added to mu before diffusion forward process (for noise robustness)
  initial_type: smoothed  # Options: smoothed, homogeneous, linear
  noise_std: 0.0
  noise_type: gaussian  # gaussian or laplace
  missing_number: 0

# Data Configuration
data:
  seismic_data_dir: dataset/OpenFWI/Seismic_Data/
  velocity_data_dir: dataset/OpenFWI/Velocity_Data/
  batch_size: 1
  data_pattern: "*.npy"
  use_mmap: true
  openfwi_families: null  # List of families to process (e.g., [CF, CV] or [CF.npy, CV.npy]), null/None to process all

# Experiment Metadata
experiment:
  name: red_diffeq_default
  results_dir: experiment/
  save_intermediate: false
  log_interval: 10
  save_metrics: true
  random_seed: 8888
