# OpenFWI - Ablation Study Base Configuration
# This config is used for gradient tricks ablation study on CF family, first sample
# Model: model-4.pt, LR: 0.01
# Do not run directly - use the ablation study script

pde:
  n_grid: 70
  nt: 1000
  dx: 10.0
  dt: 0.001
  nbc: 120
  f: 15.0
  sz: 10
  gz: 10
  ng: 70
  ns: 5

model:
  dim: 64
  dim_mults: [1, 2, 4, 8]
  flash_attn: false
  channels: 1

diffusion:
  image_size: 72
  timesteps: 1000
  sampling_timesteps: 250
  objective: pred_noise
  model_path: pretrained_models/model-4.pt

optimization:
  # Basic FWI parameters
  lr: 0.01
  ts: 300  # Number of FWI iterations per diffusion step
  diffusion_ts: 500  # Number of diffusion timesteps (reverse from 499 to 0)

  # Initial model settings
  sigma: 10.0
  initial_type: smoothed

  # Data augmentation
  noise_std: 0.0
  noise_type: gaussian
  missing_number: 0

  # Gradient processing tricks - THESE WILL BE OVERRIDDEN BY ABLATION SCRIPT
  grad_norm: true
  grad_smooth: null
  model_blur: false
  grad_clip: 1.0

  # Patch-based processing (not needed for 70x70 OpenFWI)
  use_patches: false
  patch_kernel_size: null
  patch_stride: null

data:
  seismic_data_dir: dataset/OpenFWI_Ablation/Seismic_Data/
  velocity_data_dir: dataset/OpenFWI_Ablation/Velocity_Data/
  batch_size: 1  # Process one sample at a time
  data_pattern: "CF_sample0.npy"  # Only process first sample of CF family

experiment:
  name: openfwi_ablation_base
  results_dir: ablation_results/
  save_intermediate: false
  log_interval: 10
  save_metrics: true
  random_seed: 8888
